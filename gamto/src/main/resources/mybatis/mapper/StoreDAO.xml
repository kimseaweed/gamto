<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace속성은 이 매퍼가 어떤 인터페이스와 관련된 매퍼인지를 알려준다. -->
<mapper namespace="com.mrmr.gamto.store.dao.StoreDAO">
	<!-- id속성은 인터페이스의 메소드를 가져온다. resultType의 속성값은 리턴되는 값의 타입을 지정한다. -->

	<select id="listDao"
		resultType="com.mrmr.gamto.store.dto.StoreDTO">
		select * from book_info
	</select>

	<select id="viewDao"
		resultType="com.mrmr.gamto.store.dto.StoreDTO">
		select * from book_info where b_code = #{param1}
	</select>

	<delete id="deleteDao">
		delete book_info where b_code = #{param1}
	</delete>

	<!-- 장바구니 -->
	<select id="cartDao"
		resultType="com.mrmr.gamto.store.dto.StoreDTO">
		select * from book_info where b_quantity>0
	</select>
    
    <update id="addCartDao">
    update  book_info set b_quantity=b_quantity+1 where b_code=#{b_code}
    </update>	
    
    <update id="removeCartDao">
     update  book_info set b_quantity=0 where b_code=#{b_code}
    </update>
 
</mapper>